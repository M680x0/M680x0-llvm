# RUN: llc %s -mtriple=m680x0 -start-after=prologepilog -O0 -filetype=obj -o - \
# RUN:  | extract-section .text                                                \
# RUN:  | FileCheck %s -check-prefixes=SDIVd32d16,UDIVd32d16,SMULd32d16,UMULd32d16,\
# RUN:SDIVd32i16,UDIVd32i16,SMULd32i16,UMULd32i16

#------------------------------------------------------------------------------
# MxDiMu is used for sign/unsigned division/multiply of word size data
#------------------------------------------------------------------------------


#                  ---------------------------------------------------------------
#                   F   E   D   C | B   A   9 | 8   7   6 | 5   4   3 | 2   1   0
#                  ---------------------------------------------------------------
#                   x   x   x   x |    REG    |   OPMODE  |    MODE   |    REG
#                  ---------------------------------------------------------------
# SDIVd32d16:       1   0   0   0   0   0   0   1 . 1   1   0   0   0   0   0   1
#                  ---------------------------------------------------------------
# UDIVd32d16-SAME:  1   0   0   0   0   0   0   0 . 1   1   0   0   0   0   0   1
#                  ---------------------------------------------------------------
# SDIVd32i16-SAME:  1   0   0   0   0   0   0   1 . 1   1   1   1   1   1   0   0
# SDIVd32i16-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#                  ---------------------------------------------------------------
# UDIVd32i16-SAME:  1   0   0   0   0   0   0   0 . 1   1   1   1   1   1   0   0
# UDIVd32i16-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
#                  ---------------------------------------------------------------
# SMULd32d16-SAME:  1   1   0   0   0   0   0   1 . 1   1   0   0   0   0   0   1
#                  ---------------------------------------------------------------
# UMULd32d16-SAME:  1   1   0   0   0   0   0   0 . 1   1   0   0   0   0   0   1
#                  ---------------------------------------------------------------
# SMULd32i16-SAME:  1   1   0   0   0   0   0   1 . 1   1   1   1   1   1   0   0
# SMULd32i16-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#                  ---------------------------------------------------------------
# UMULd32i16-SAME:  1   1   0   0   0   0   0   0 . 1   1   1   1   1   1   0   0
# UMULd32i16-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
#                  ---------------------------------------------------------------
name: MxDiMu
body: |
  bb.0:
    $d0 = SDIVd32d16 $d0, $wd1, implicit-def $ccr
    $d0 = UDIVd32d16 $d0, $wd1, implicit-def $ccr
    $d0 = SDIVd32i16 $d0,    0, implicit-def $ccr
    $d0 = UDIVd32i16 $d0,   -1, implicit-def $ccr
    $d0 = SMULd32d16 $d0, $wd1, implicit-def $ccr
    $d0 = UMULd32d16 $d0, $wd1, implicit-def $ccr
    $d0 = SMULd32i16 $d0,    0, implicit-def $ccr
    $d0 = UMULd32i16 $d0,   -1, implicit-def $ccr
