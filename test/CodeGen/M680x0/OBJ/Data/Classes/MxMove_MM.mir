# RUN: llc %s -mtriple=m680x0 -start-after=prologepilog -O0 -filetype=obj -o - \
# RUN:  | extract-section .text                                                \
# RUN:  | FileCheck %s -check-prefixes=MOV8jk,MOV32jk,MOV8jq,MOV32jq,MOV8ff,MOV32ff,\
# RUN:MOV8pp,MOV32pp,MOV8jj,MOV32jj,MOV8oo,MOV32oo,MOV8ee,MOV32ee,MOV8bb,MOV32bb

#------------------------------------------------------------------------------
# MxMove_MM is used for moving data from memory to memory
#------------------------------------------------------------------------------

--- # ARI <- PCI
#               ---------------------------+-----------+-----------+-----------
#                F   E | D   C | B   A   9 | 8   7   6 | 5   4   3 | 2   1   0
#               -------+-------+-----------+-----------+-----------+-----------
#                      |       |      DESTINATION      |         SOURCE
#                0   0 | SIZE  |    REG    |    MODE   |    MODE   |    REG
#               -------+-------+-----------+-----------+-----------+-----------
# MOV8jk:        0   0   0   1   0   0   0   0 . 1   0   1   1   1   0   1   1
# MOV8jk-SAME:   0   0   0   1   1   0   0   0 . 0   0   0   0   0   0   0   0
#               ---------------------------------------------------------------
# MOV8jk-SAME:   0   0   0   1   0   0   0   0 . 1   0   1   1   1   0   1   1
# MOV8jk-SAME:   0   0   0   1   1   0   0   0 . 1   1   1   1   1   1   1   1
#               ---------------------------------------------------------------
# MOV32jk-SAME:  0   0   1   0   0   0   0   0 . 1   0   1   1   1   0   1   1
# MOV32jk-SAME:  0   0   0   1   1   0   0   0 . 0   0   0   0   0   0   0   0
#               ---------------------------------------------------------------
# MOV32jk-SAME:  0   0   1   0   0   0   1   0 . 1   0   1   1   1   0   1   1
# MOV32jk-SAME:  1   0   1   0   1   0   0   0 . 0   0   0   0   0   0   0   0
#               ---+-----------+---+-------+---+-------------------------------
#        BRIEF  DA |    REG    | L | SCALE | 0 |          DISPLACEMENT
#               ---+-----------+---+-------+---+-------------------------------
name: MxMove_RM_ARI_PCI
body: |
  bb.0:
    MOV8jk  %a0,  0, %d1, implicit-def %ccr
    MOV8jk  %a0, -1, %d1, implicit-def %ccr
    MOV32jk %a0,  0, %d1, implicit-def %ccr
    MOV32jk %a1,  0, %a2, implicit-def %ccr

...
--- # ARI <- PCD
#               ---------------------------+-----------+-----------+-----------
#                F   E | D   C | B   A   9 | 8   7   6 | 5   4   3 | 2   1   0
#               -------+-------+-----------+-----------+-----------+-----------
#                      |       |      DESTINATION      |         SOURCE
#                0   0 | SIZE  |    REG    |    MODE   |    MODE   |    REG
#               -------+-------+-----------+-----------+-----------+-----------
# MOV8jq-SAME:   0   0   0   1   0   0   0   0 . 1   0   1   1   1   0   1   0
# MOV8jq-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               ---------------------------------------------------------------
# MOV32jq-SAME:  0   0   1   0   0   0   0   0 . 1   0   1   1   1   0   1   0
# MOV32jq-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
#               ---------------------------------------------------------------
# MOV32jq-SAME:  0   0   1   0   0   0   0   0 . 1   0   1   1   1   0   1   0
# MOV32jq-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
name: MxMove_RM_PCD
body: |
  bb.0:
    MOV8jq  %a0,  0, implicit-def %ccr
    MOV32jq %a0, -1, implicit-def %ccr
    MOV32jq %a0, -1, implicit-def %ccr

...
--- # ARII <- ARII
#               ---------------------------+-----------+-----------+-----------
#                F   E | D   C | B   A   9 | 8   7   6 | 5   4   3 | 2   1   0
#               -------+-------+-----------+-----------+-----------+-----------
#                      |       |      DESTINATION      |         SOURCE
#                0   0 | SIZE  |    REG    |    MODE   |    MODE   |    REG
#               -------+-------+-----------+-----------+-----------+-----------
# MOV8ff:        0   0   0   1   0   0   0   1 . 1   0   1   1   0   0   0   0
# MOV8ff-SAME:   0   0   0   1   1   0   0   0 . 0   0   0   0   0   0   0   0
# MOV8ff-SAME:   0   0   0   1   1   0   0   0 . 1   1   1   1   1   1   1   1
#               ---------------------------------------------------------------
# MOV8ff-SAME:   0   0   0   1   0   0   0   1 . 1   0   1   1   0   0   0   0
# MOV8ff-SAME:   0   0   0   1   1   0   0   0 . 1   1   1   1   1   1   1   1
# MOV8ff-SAME:   0   0   0   1   1   0   0   0 . 1   1   1   1   1   1   1   1
#               ---------------------------------------------------------------
# MOV32ff-SAME:  0   0   1   0   0   0   1   1 . 1   0   1   1   0   0   0   1
# MOV32ff-SAME:  0   0   0   1   1   0   0   0 . 0   0   0   0   0   0   0   0
# MOV32ff-SAME:  0   0   0   1   1   0   0   0 . 0   0   0   0   0   0   0   0
#               ---------------------------------------------------------------
# MOV32ff-SAME:  0   0   1   0   0   1   0   1 . 1   0   1   1   0   0   1   0
# MOV32ff-SAME:  1   0   1   0   1   0   0   0 . 0   0   1   0   1   0   1   0
# MOV32ff-SAME:  1   0   1   0   1   0   0   0 . 0   0   0   0   0   0   0   0
#               ---+-----------+---+-------+---+-------------------------------
#        BRIEF  DA |    REG    | L | SCALE | 0 |          DISPLACEMENT
#               ---+-----------+---+-------+---+-------------------------------
name: MxMove_RM_ARII_ARII
body: |
  bb.0:
    MOV8ff  -1, %a0, %d1, 0,  %a0, %d1, implicit-def %ccr
    MOV8ff  -1, %a0, %d1, -1, %a0, %d1, implicit-def %ccr
    MOV32ff 0,  %a1, %d1, 0,  %a1, %d1, implicit-def %ccr
    MOV32ff 0,  %a2, %a2, 42, %a2, %a2, implicit-def %ccr

...
--- # ARID <- ARID
#               ---------------------------+-----------+-----------+-----------
#                F   E | D   C | B   A   9 | 8   7   6 | 5   4   3 | 2   1   0
#               -------+-------+-----------+-----------+-----------+-----------
#                      |       |      DESTINATION      |         SOURCE
#                0   0 | SIZE  |    REG    |    MODE   |    MODE   |    REG
#               -------+-------+-----------+-----------+-----------+-----------
# MOV8pp-SAME:   0   0   0   1   0   0   0   1 . 0   1   1   0   1   0   0   0
# MOV8pp-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# MOV8pp-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               ---------------------------------------------------------------
# MOV32pp-SAME:  0   0   1   0   0   0   1   1 . 0   1   1   0   1   0   0   1
# MOV32pp-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# MOV32pp-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               ---------------------------------------------------------------
# MOV32pp-SAME:  0   0   1   0   0   0   1   1 . 0   1   1   0   1   0   0   1
# MOV32pp-SAME:  0   0   0   0   0   0   0   0 . 0   0   1   0   1   0   1   0
# MOV32pp-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
name: MxMove_RM_ARID
body: |
  bb.0:
    MOV8pp   0, %a0, 0,  %a0, implicit-def %ccr
    MOV32pp  0, %a1, -1, %a1, implicit-def %ccr
    MOV32pp -1, %a1, 42, %a1, implicit-def %ccr

...
--- # ARIPD <- ARIPD
#               ---------------------------+-----------+-----------+-----------
#                F   E | D   C | B   A   9 | 8   7   6 | 5   4   3 | 2   1   0
#               -------+-------+-----------+-----------+-----------+-----------
#                      |       |      DESTINATION      |         SOURCE
#                0   0 | SIZE  |    REG    |    MODE   |    MODE   |    REG
#               -------+-------+-----------+-----------+-----------+-----------
# MOV8ee-SAME:   0   0   0   1   0   0   0   1 . 0   0   1   0   0   0   0   0
#               ---------------------------------------------------------------
# MOV32ee-SAME:  0   0   1   0   0   0   1   1 . 0   0   1   0   0   0   0   1
#               ---------------------------------------------------------------
# MOV32ee-SAME:  0   0   1   0   0   0   1   1 . 0   0   1   0   0   0   0   1
name: MxMove_RM_ARIPD
body: |
  bb.0:
    MOV8ee  %a0, %a0, implicit-def %ccr
    MOV32ee %a1, %a1, implicit-def %ccr
    MOV32ee %a1, %a1, implicit-def %ccr

...
--- # ARIPI <- ARIPI
#               ---------------------------+-----------+-----------+-----------
#                F   E | D   C | B   A   9 | 8   7   6 | 5   4   3 | 2   1   0
#               -------+-------+-----------+-----------+-----------+-----------
#                      |       |      DESTINATION      |         SOURCE
#                0   0 | SIZE  |    REG    |    MODE   |    MODE   |    REG
#               -------+-------+-----------+-----------+-----------+-----------
# MOV8oo-SAME:   0   0   0   1   0   0   0   0 . 1   1   0   1   1   0   0   0
#               ---------------------------------------------------------------
# MOV32oo-SAME:  0   0   1   0   0   0   1   0 . 1   1   0   1   1   0   0   1
#               ---------------------------------------------------------------
# MOV32oo-SAME:  0   0   1   0   0   0   1   0 . 1   1   0   1   1   0   0   1
name: MxMove_RM_ARIPI
body: |
  bb.0:
    MOV8oo  %a0, %a0, implicit-def %ccr
    MOV32oo %a1, %a1, implicit-def %ccr
    MOV32oo %a1, %a1, implicit-def %ccr

...
--- # ARI <- ARI
#               ---------------------------+-----------+-----------+-----------
#                F   E | D   C | B   A   9 | 8   7   6 | 5   4   3 | 2   1   0
#               -------+-------+-----------+-----------+-----------+-----------
#                      |       |      DESTINATION      |         SOURCE
#                0   0 | SIZE  |    REG    |    MODE   |    MODE   |    REG
#               -------+-------+-----------+-----------+-----------+-----------
# MOV8jj-SAME:   0   0   0   1   0   0   0   0 . 1   0   0   1   0   0   0   0
#               ---------------------------------------------------------------
# MOV32jj-SAME:  0   0   1   0   0   0   1   0 . 1   0   0   1   0   0   0   1
#               ---------------------------------------------------------------
# MOV32jj-SAME:  0   0   1   0   0   0   1   0 . 1   0   0   1   0   0   0   1
name: MxMove_RM_ARI
body: |
  bb.0:
    MOV8jj  %a0, %a0, implicit-def %ccr
    MOV32jj %a1, %a1, implicit-def %ccr
    MOV32jj %a1, %a1, implicit-def %ccr

...
--- # ABS <- ABS
#               ---------------------------+-----------+-----------+-----------
#                F   E | D   C | B   A   9 | 8   7   6 | 5   4   3 | 2   1   0
#               -------+-------+-----------+-----------+-----------+-----------
#                      |       |      DESTINATION      |         SOURCE
#                0   0 | SIZE  |    REG    |    MODE   |    MODE   |    REG
#               -------+-------+-----------+-----------+-----------+-----------
# MOV8bb-SAME:   0   0   0   1   0   0   1   1 . 1   1   1   1   1   0   0   1
# MOV8bb-SAME:   1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# MOV8bb-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               ---------------------------------------------------------------
# MOV32bb-SAME:  0   0   1   0   0   0   1   1 . 1   1   1   1   1   0   0   1
# MOV32bb-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# MOV32bb-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# MOV32bb-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# MOV32bb-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
#               ---------------------------------------------------------------
# MOV32bb-SAME:  0   0   1   0   0   0   1   1 . 1   1   1   1   1   0   0   1
# MOV32bb-SAME:  0   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# MOV32bb-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# MOV32bb-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# MOV32bb-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
name: MxMove_RM_ABS
body: |
  bb.0:
    MOV8bb   0, -1,          implicit-def %ccr
    MOV32bb -1,  0,          implicit-def %ccr
    MOV32bb  0,  2147483647, implicit-def %ccr

...
